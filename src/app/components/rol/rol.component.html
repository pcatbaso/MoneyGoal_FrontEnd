<div class="container">
  <div class="text-center">

    <h2>Roles</h2>
  </div>
</div>
<div class="row">
  <div class="table-responsive">
    <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-bordered bordered table-striped table-condensed datatable" style="text-align:center;">
      <thead>
          <tr>
              <th>#</th>
              <th>Nombre</th>
              <th>Descripci贸n</th>
              <th>Fecha creaci贸n</th>
              <th>Fecha actualizaci贸n </th>
              <th>Activo</th>
              <th>Acciones</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let item of listaRoles; index as i">
              <td>{{ i+1 }}</td>
              <td>{{ item.name }}</td>
              <td>{{ item.description }}</td>
              <td>{{ item.createdDate }}</td>
              <td>{{ item.updatedDate }}</td>
              <td>
                <div class="form-check form-switch">
                  <input [checked]= item.active class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                </div>
              </td>
              <td>
                <a href="#" class="view" title="View" data-toggle="tooltip" id="{{ item.id }}" (click)="editarRol(editarRolModal, $event)"><i class="material-icons">&#xE417;</i></a>
                <a href="#" class="edit" title="Edit" data-toggle="tooltip"><i class="material-icons" id="{{ item.id }}" (click)="editarRol(editarRolModal, item)">&#xE254;</i></a>
                <!-- <a href="#" class="delete" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a> -->
              </td>
          </tr>
      </tbody>
    </table>
  </div>

</div>

<ng-template #editarRolModal let-modal >
	<div class=""  style="border-radius: 0px; border-left:8px #07a84a solid; border-right: none; border-top:none; border-bottom:none">
    <div class="modal-header">
      <h4 class="modal-title text-success text-uppercase text-center">Rol</h4>
      <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
      <form [formGroup]="formRol">
        <div class="row">
          <div class="col">
            <div class="form-floating mb-3">
              <input type="text" class="form-control" formControlName="nombreRol" placeholder="John">
              <label for="floatingTextInput1">Nombre</label>
            </div>
          </div>
          <div class="col">
            <div class="form-floating mb-3" >
              <input type="text" class="form-control" formControlName="descriptionRol" placeholder="Smith">
              <label for="floatingTextInput2">Descripci贸n</label>
            </div>
          </div>
        </div>
        <br>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" (click)="modal.close('Close click')">Cerrar</button>
          <button type="button" class="btn btn-success" (click)="actualizarRol(formRol.value)">Guardar</button>
        </div>
      </form>
    </div>

  </div>
</ng-template>

